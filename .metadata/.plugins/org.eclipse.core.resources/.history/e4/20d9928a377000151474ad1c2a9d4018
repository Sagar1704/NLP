package sea.nlp.pos;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Scanner;

/**
 * POS Tagging scans for the tags. Finds the count of the tags given a word.
 * Generates corpus by correcting the tags. Finds the errors of the tags. And
 * generate the rules for the errors.
 * 
 * @author Sagar
 *
 */
public class POSTagging {
	public static final String INPUT = "HW2_F15_NLP6320_POSTaggedTrainingSet.txt";

	private HashMap<String, TreeSet<TagCounter>> wordTagMap;

	public POSTagging() {
		this.wordTagMap = new HashMap<String, ArrayList<TagCounter>>();
	}

	public static void main(String[] args) {
		POSTagging tagger = new POSTagging();

		try {
			tagger.readInput();
		} catch (FileNotFoundException e) {
			System.out.println("Please check if the input file is present in the path.");
		}
	}

	private void readInput() throws FileNotFoundException {
		Scanner scanner = new Scanner(new File(INPUT));

		while (scanner.hasNext()) {
			String token = scanner.next();
			String word = token.split("_")[0];
			TagCounter tag = new TagCounter(token.split("_")[1]);
			ArrayList<TagCounter> tags = new ArrayList<TagCounter>();
			tags.add(tag);
			if (!wordTagMap.containsKey(word)) {
				wordTagMap.put(word, tags);
			} else {
				tags = wordTagMap.get(word);
				for (TagCounter tagCounter : tags) {
					if(tagCounter.equals(tag)) {
						tagCounter.setCounter(tagCounter.getCounter() + 1);
						break;
					}
				}
			}
			
		}

		scanner.close();
	}

}
